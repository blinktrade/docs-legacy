<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="shortcut icon" href="images/favicon.ico">
    <title>BlinkTrade API</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;,&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <div class='logo-wrapper'>
        <img src="images/logo-white.png" />
      </div>
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">JavaScript</a>
              <a href="#" data-language-name="shell">Shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="getting-started">Getting Started</h1>

<h3 id="overview">Overview</h3>

<p>Welcome to <a href="https://blinktrade.com">BlinkTrade</a> API documentation!</p>

<p>BlinkTrade provides a simple and robust <a href="#websocket-api">WebSocket API</a> to integrate our platform, we strongly recommend you to use it over the <a href="#public-rest-api">REST API</a>.</p>

<h2 id="blinktrade-sdk">BlinkTrade SDK</h2>

<p>We provide a simple WebSocket and REST JavaScript SDK that enables you runs in either Node.js or in a browser. You can easily send and cancel orders, request deposits and withdrawals, and get real time market data through our WebSocket API.</p>

<p>All SDK supports either promises and callbacks. If a callback is provided as the last argument, it will be called as <code class="prettyprint">callback(error, result)</code>, otherwise it will just return the original promise. We also provide event emitters that you can use to get realtime updates through our WebSocket API.</p>

<h3 id="install">Install</h3>

<p><code class="prettyprint">$ npm install blinktrade</code></p>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">BlinkTrade</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'blinktrade'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">BlinkTradeRest</span> <span class="o">=</span> <span class="nx">BlinkTrade</span><span class="p">.</span><span class="nx">BlinkTradeRest</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">BlinkTradeWS</span> <span class="o">=</span> <span class="nx">BlinkTrade</span><span class="p">.</span><span class="nx">BlinkTradeWS</span><span class="p">;</span>

<span class="c1">// REST Transport</span>
<span class="kd">var</span> <span class="nx">blinktrade</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BlinkTradeRest</span><span class="p">();</span>

<span class="c1">// WebSocket Transport</span>
<span class="kd">var</span> <span class="nx">blinktrade</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BlinkTradeWS</span><span class="p">();</span>

<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">heartbeat</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">heartbeat</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">heartbeat</span><span class="p">.</span><span class="nx">Latency</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<p><a href="https://github.com/blinktrade/BlinkTradeJS">Check our JavaScript SDK documentation</a></p>

<aside class="notice">
  <b>NOTE</b>
  <p>
    We aimed to design a concise API by returning a JSON format that can be slightly different from the original WebSocket call. These returns aims to increase readability and avoid complexity of the JSON, some returns such arrays of arrays and a `Columns` field that describes each array position, are already formatted for you.
  </p>
</aside>

<h2 id="blinktrade-endpoints">BlinkTrade Endpoints</h2>

<p>There are two working environments: <code class="prettyprint">prod</code> for production purporses and <code class="prettyprint">testnet</code> for testing purporses.</p>

<p>Some features are accessed publicly and others require an API Key based authentication. All data messages and responses are in JSON format.</p>

<h3 id="rest">REST</h3>

<ul>
<li><code class="prettyprint">testnet</code> base URL endpoint is <code class="prettyprint">https://api.testnet.blinktrade.com</code></li>
<li><code class="prettyprint">prod</code> base URL endpoint is <code class="prettyprint">https://api.blinktrade.com</code></li>
</ul>

<h3 id="websocket">WebSocket</h3>

<ul>
<li><code class="prettyprint">testnet</code> URL endpoint is <code class="prettyprint">wss://api.testnet.blinktrade.com/trade/</code></li>
<li><code class="prettyprint">prod</code> URL endpoint is <code class="prettyprint">wss://ws.blinktrade.com/trade/</code></li>
</ul>

<h2 id="create-api-key">Create API Key</h2>

<ol>
<li>Go to some exchange powered by BlinkTrade or <code class="prettyprint">https://testnet.blinktrade.com</code> for <code class="prettyprint">testnet</code> environment</li>
<li>Signup</li>
<li>Go to API page</li>
<li>Click &ldquo;New API Key&rdquo;</li>
<li>Enter a label and select the permissions for that API Key</li>
<li>Get the API Key and API Secret. The API Secret will only be shown once. (The API Password is only used for the WebSocket API.)</li>
</ol>

<h2 id="brokers">Brokers</h2>

<p>A broker ID is assigned for each exchange powered by BlinkTrade:</p>

<table><thead>
<tr>
<th style="text-align: center"><code class="prettyprint">&lt;BROKER_ID&gt;</code></th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">1</td>
<td><a href="https://surbitcoin.com">SurBitcoin</a></td>
</tr>
<tr>
<td style="text-align: center">3</td>
<td><a href="https://vbtc.vn">VBTC</a></td>
</tr>
<tr>
<td style="text-align: center">4</td>
<td><a href="https://foxbit.com.br">FoxBit</a></td>
</tr>
<tr>
<td style="text-align: center"><strong>5</strong></td>
<td><a href="https://testnet.blinktrade.com/"><strong>Testnet</strong></a></td>
</tr>
<tr>
<td style="text-align: center">8</td>
<td><a href="https://urdubit.com/">UrduBit</a></td>
</tr>
<tr>
<td style="text-align: center">9</td>
<td><a href="https://chilebit.net">ChileBit</a></td>
</tr>
</tbody></table>

<h2 id="currencies">Currencies</h2>

<p>Currency codes and related brokers:</p>

<table><thead>
<tr>
<th><code class="prettyprint">&lt;CURRENCY&gt;</code></th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>VEF</td>
<td>Venezuelan Bolivares (SurBitcoin)</td>
</tr>
<tr>
<td>VND</td>
<td>Vietnamise Dongs (VBTC)</td>
</tr>
<tr>
<td>BRL</td>
<td>Brazil Reals (FoxBit)</td>
</tr>
<tr>
<td>PKR</td>
<td>Pakistani Ruppe (UrduBit)</td>
</tr>
<tr>
<td>CLP</td>
<td>Chilean Pesos (ChileBit.NET)</td>
</tr>
</tbody></table>

<h2 id="symbols">Symbols</h2>

<p>Currency pair symbols and related brokers:</p>

<table><thead>
<tr>
<th><code class="prettyprint">&lt;SYMBOL&gt;</code></th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BTCVEF</td>
<td>BTC Pair - Venezuelan Bolivares (SurBitcoin)</td>
</tr>
<tr>
<td>BTCVND</td>
<td>BTC Pair - Vietnamise Dongs (VBTC)</td>
</tr>
<tr>
<td>BTCBRL</td>
<td>BTC Pair - Brazil Reals (FoxBit)</td>
</tr>
<tr>
<td>BTCPKR</td>
<td>BTC Pair - Pakistani Ruppe (UrduBit)</td>
</tr>
<tr>
<td>BTCCLP</td>
<td>BTC Pair - Chilean Pesos (ChileBit.NET)</td>
</tr>
</tbody></table>

          <h1 id="public-rest-api">Public Rest API</h1>

<h3 id="overview">Overview</h3>
<pre class="highlight javascript"><code>
<span class="kd">var</span> <span class="nx">BlinkTradeRest</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"blinktrade"</span><span class="p">).</span><span class="nx">BlinkTradeRest</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">BlinkTrade</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BlinkTradeRest</span><span class="p">({</span>
  <span class="na">prod</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">currency</span><span class="p">:</span> <span class="s2">"BRL"</span><span class="p">,</span>
<span class="p">});</span>

</code></pre>

<p>The Public API can be accessed under <code class="prettyprint">/api/v1/&lt;CURRENCY&gt;</code>, e.g, production is <code class="prettyprint">https://api.blinktrade.com/api/v1/&lt;CURRENCY&gt;</code></p>

<p>An <code class="prettyprint">HTTP GET</code> request method should be used to fetch data.</p>

<h2 id="ticker">Ticker</h2>

<p>Ticker is a summary information about the current status of an exchange.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v1/&lt;CURRENCY&gt;/ticker?crypto_currency=BTC</code></p>
<pre class="highlight javascript"><code>
<span class="nx">BlinkTrade</span><span class="p">.</span><span class="nx">ticker</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">ticker</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ticker</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>
<pre class="highlight shell"><code>
<span class="gp">$ </span>curl <span class="s2">"https://api.blinktrade.com/api/v1/BRL/ticker"</span>

</code></pre>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>crypto_currency</td>
<td>Crypto currency to be used. <strong>Optional</strong>; defaults to BTC</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>EXAMPLE RESPONSE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"pair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCBRL"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="mf">2280.0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"high"</span><span class="p">:</span><span class="w"> </span><span class="mf">2306.0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"low"</span><span class="p">:</span><span class="w"> </span><span class="mf">2205.0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vol"</span><span class="p">:</span><span class="w"> </span><span class="mf">113.17267938</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vol_brl"</span><span class="p">:</span><span class="w"> </span><span class="mf">255658.20705113</span><span class="p">,</span><span class="w">
    </span><span class="nt">"buy"</span><span class="p">:</span><span class="w"> </span><span class="mf">2263.0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"sell"</span><span class="p">:</span><span class="w"> </span><span class="mf">2279.77</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td>string</td>
<td><a href="#symbols">&lt;SYMBOL&gt;</a></td>
</tr>
<tr>
<td>last</td>
<td>number</td>
<td>Value of the last price in the last 24 hours</td>
</tr>
<tr>
<td>high</td>
<td>number</td>
<td>Price of the highest price in the last 24 hours</td>
</tr>
<tr>
<td>low</td>
<td>number</td>
<td>Price of the lowest price in the last 24 hours</td>
</tr>
<tr>
<td>vol</td>
<td>number</td>
<td>Trading volume in the last 24 hours</td>
</tr>
<tr>
<td>vol_<a href="#currencies">&lt;CURRENCY&gt;</a></td>
<td>number</td>
<td>Trading volume in the last 24 hours in <a href="#currencies">&lt;CURRENCY&gt;</a> (lowercase)</td>
</tr>
<tr>
<td>buy</td>
<td>number</td>
<td>Price of the most recent buy order</td>
</tr>
<tr>
<td>sell</td>
<td>number</td>
<td>Price of the most recent sell order</td>
</tr>
</tbody></table>

<h2 id="orderbook">Orderbook</h2>

<p>Order book is a list of orders that shows the interest of buyers (bids) and sellers (asks).</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v1/&lt;CURRENCY&gt;/orderbook?crypto_currency=BTC</code></p>
<pre class="highlight javascript"><code>
<span class="nx">BlinkTrade</span><span class="p">.</span><span class="nx">orderbook</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">orderbook</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">orderbook</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>
<pre class="highlight shell"><code>
<span class="gp">$ </span>curl <span class="s2">"https://api.blinktrade.com/api/v1/BRL/orderbook"</span>

</code></pre>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>crypto_currency</td>
<td>Crypto currency to be used. <strong>Optional</strong>; defaults to BTC</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>EXAMPLE RESPONSE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"pair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCBRL"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="mf">2257.89</span><span class="p">,</span><span class="w"> </span><span class="mf">0.20752212</span><span class="p">,</span><span class="w"> </span><span class="mi">90852987</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="mf">2257.88</span><span class="p">,</span><span class="w"> </span><span class="mf">1.01201126</span><span class="p">,</span><span class="w"> </span><span class="mi">90800395</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="mf">2249.98</span><span class="p">,</span><span class="w"> </span><span class="mf">0.05052466</span><span class="p">,</span><span class="w"> </span><span class="mi">90806289</span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="mf">2272.14</span><span class="p">,</span><span class="w"> </span><span class="mf">2.3648572</span><span class="p">,</span><span class="w"> </span><span class="mi">90803493</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="mf">2279.63</span><span class="p">,</span><span class="w"> </span><span class="mf">0.08722052</span><span class="p">,</span><span class="w"> </span><span class="mi">90840584</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="mf">2279.75</span><span class="p">,</span><span class="w"> </span><span class="mf">0.04118941</span><span class="p">,</span><span class="w"> </span><span class="mi">90823262</span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td>string</td>
<td><a href="#symbols">&lt;SYMBOL&gt;</a></td>
</tr>
<tr>
<td>bids</td>
<td>array(array)</td>
<td>Array of bids from buyers</td>
</tr>
<tr>
<td>asks</td>
<td>array(array)</td>
<td>Array of asks from sellers</td>
</tr>
</tbody></table>

<p>For each element of <code class="prettyprint">bids</code> or <code class="prettyprint">asks</code> array:</p>

<table><thead>
<tr>
<th style="text-align: center">Index Array</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">0</td>
<td>number</td>
<td>Unit price</td>
</tr>
<tr>
<td style="text-align: center">1</td>
<td>number</td>
<td>Amount to buy/sell</td>
</tr>
<tr>
<td style="text-align: center">2</td>
<td>number</td>
<td>User ID</td>
</tr>
</tbody></table>

<h2 id="trades">Trades</h2>

<p>A list of the last trades executed on an exchange since a chosen date.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v1/&lt;CURRENCY&gt;/trades?crypto_currency=BTC&amp;since=&lt;TIMESTAMP&gt;&amp;limit=&lt;NUMBER&gt;</code></p>
<pre class="highlight javascript"><code>
<span class="nx">BlinkTrade</span><span class="p">.</span><span class="nx">trades</span><span class="p">({</span> <span class="na">limit</span><span class="p">:</span> <span class="mi">2</span> <span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">trades</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">trades</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>
<pre class="highlight shell"><code>
<span class="gp">$ </span>curl <span class="s2">"https://api.blinktrade.com/api/v1/BRL/trades?since=1467990302&amp;limit=2"</span>

</code></pre>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>crypto_currency</td>
<td>Crypto currency to be used. <strong>Optional</strong>; defaults to BTC</td>
</tr>
<tr>
<td>since</td>
<td>Date which executed trades must be fetched from. <code class="prettyprint">&lt;TIMESTAMP&gt;</code> is in Unix Time date format. <strong>Optional</strong>; defaults to the date of the first executed trade</td>
</tr>
<tr>
<td>limit</td>
<td>Limit of trades that will be returned. <code class="prettyprint">&lt;NUMBER&gt;</code> should be a positive integer. <strong>Optional</strong>; defaults to 100 trades</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>EXAMPLE RESPONSE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="mi">404681</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1467990302</span><span class="p">,</span><span class="w">
        </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">2280.89</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.53487892</span><span class="p">,</span><span class="w">
        </span><span class="nt">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="mi">404682</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1467990492</span><span class="p">,</span><span class="w">
        </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">2261.01</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0373</span><span class="p">,</span><span class="w">
        </span><span class="nt">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>The response is an array of objects where for each object:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tid</td>
<td>number</td>
<td>Trade ID</td>
</tr>
<tr>
<td>date</td>
<td>number</td>
<td>Executed date in Unix Time</td>
</tr>
<tr>
<td>price</td>
<td>number</td>
<td>Unit price</td>
</tr>
<tr>
<td>amount</td>
<td>number</td>
<td>Amount bought/sold</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>&ldquo;buy&rdquo; for a buy order or &ldquo;sell&rdquo; for a sell order</td>
</tr>
</tbody></table>

          <h1 id="trade-api">Trade API</h1>

<p>On our RESTful API, we provide a trade endpoint that you&rsquo;re allowed to send and cancel orders,
request deposits and withdrawals. You need to <a href="#create-api-key">create an API Key</a> through our platform and set their respective permission that gives you access to it.</p>

<p>The Trade endpoint is internaly a bridge to our WebSocket API, so you can access it both on <code class="prettyprint">REST</code> and <code class="prettyprint">WebSocket API</code>.
On <code class="prettyprint">REST</code> it can be accessed under <code class="prettyprint">/tapi/v1/message</code>, e.g, production is <code class="prettyprint">https://api.blinktrade.com/tapi/v1/message</code>,
and API Key is needed in order to authenticate your access.</p>

<aside class="warning">
  <b>NOTE</b>
  <p>Be aware that our Restful trade endpoint can be changed at any time, we strongly recommend using the WebSocket API over the Restful API.</p>
</aside>

<aside class="notice">
  <b>NOTE</b> that when generate the API Key and the API Secret, it will be only shown once, you should save it securely, the API Password is only used in the WebSocket API
</aside>

<p>An <code class="prettyprint">HTTP POST</code> request method should be used to send a RESTful HTTP message.</p>

<h3 id="rest-http-headers">REST HTTP Headers</h3>

<p>The following headers must be present in your <code class="prettyprint">POST</code> message:</p>

<table><thead>
<tr>
<th>Header</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>APIKey</td>
<td>Your API Key generated from your exchange or testnet environment</td>
</tr>
<tr>
<td>Nonce</td>
<td>Must be an integer, always greater than the previous one</td>
</tr>
<tr>
<td>Signature</td>
<td>The HMAC-SHA256 signature of Nonce using your API Secret as key</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code class="prettyprint">application/json</code></td>
</tr>
</tbody></table>
<pre class="highlight javascript"><code>
<span class="c1">// REST Transport</span>
<span class="kd">var</span> <span class="nx">BlinkTradeRest</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"blinktrade"</span><span class="p">).</span><span class="nx">BlinkTradeRest</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">blinktrade</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BlinkTradeRest</span><span class="p">({</span>
  <span class="na">prod</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">key</span><span class="p">:</span> <span class="s2">"YOUR_API_KEY_GENERATED_IN_API_MODULE"</span><span class="p">,</span>
  <span class="na">secret</span><span class="p">:</span> <span class="s2">"YOUR_SECRET_KEY_GENERATED_IN_API_MODULE"</span><span class="p">,</span>
  <span class="na">currency</span><span class="p">:</span> <span class="s2">"BRL"</span><span class="p">,</span>
<span class="p">});</span>

<span class="c1">// WebSocket Transport</span>
<span class="kd">var</span> <span class="nx">BlinkTradeWS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"blinktrade"</span><span class="p">).</span><span class="nx">BlinkTradeWS</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">blinktrade</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BlinkTradeWS</span><span class="p">({</span> <span class="na">prod</span><span class="p">:</span> <span class="kc">false</span> <span class="p">});</span>

</code></pre>
<pre class="highlight shell"><code><span class="c"># Message to be sent</span>
<span class="nv">message</span><span class="o">=</span><span class="s1">'JSON_MESSAGE_TO_BE_SENT'</span>

<span class="c"># REST Trade API URL</span>
<span class="nv">api_url</span><span class="o">=</span><span class="s1">'API_URL_REST_ENDPOINT'</span>

<span class="c"># Set API Key and Secret</span>
<span class="nv">api_key</span><span class="o">=</span><span class="s1">'YOUR_API_KEY_GENERATED_IN_API_MODULE'</span>
<span class="nv">api_secret</span><span class="o">=</span><span class="s1">'YOUR_SECRET_KEY_GENERATED_IN_API_MODULE'</span>

<span class="c"># Generate a nonce</span>
<span class="nv">nonce</span><span class="o">=</span><span class="sb">`</span>date +%s<span class="sb">`</span>

<span class="c"># Sign the nonce with secret using HMAC-SHA256</span>
<span class="nv">signature</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> -n <span class="s2">"</span><span class="nv">$nonce</span><span class="s2">"</span> | openssl dgst -sha256 -hex -hmac <span class="s2">"</span><span class="nv">$api_secret</span><span class="s2">"</span> | cut -d <span class="s1">' '</span> -f 2<span class="sb">`</span>

<span class="c"># Send a POST message to API URL</span>
curl -X POST <span class="s2">"</span><span class="nv">$api_url</span><span class="s2">"</span>              <span class="se">\</span>
  -H <span class="s2">"APIKey:</span><span class="nv">$api_key</span><span class="s2">"</span>               <span class="se">\</span>
  -H <span class="s2">"Nonce:</span><span class="nv">$nonce</span><span class="s2">"</span>                  <span class="se">\</span>
  -H <span class="s2">"Signature:</span><span class="nv">$signature</span><span class="s2">"</span>          <span class="se">\</span>
  -H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
  -d <span class="s2">"</span><span class="nv">$message</span><span class="s2">"</span>
</code></pre>

<h2 id="balance">Balance</h2>

<blockquote>
<p><strong>MESSAGE EXAMPLE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"BalanceReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight javascript"><code>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">balance</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">balance</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">balance</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>
<pre class="highlight shell"><code><span class="nv">message</span><span class="o">=</span><span class="s1">'{ "MsgType": "U2", "BalanceReqID": 1 }'</span>

<span class="nv">api_url</span><span class="o">=</span><span class="s1">'API_URL_REST_ENDPOINT'</span>
<span class="nv">api_key</span><span class="o">=</span><span class="s1">'YOUR_API_KEY_GENERATED_IN_API_MODULE'</span>
<span class="nv">api_secret</span><span class="o">=</span><span class="s1">'YOUR_SECRET_KEY_GENERATED_IN_API_MODULE'</span>

<span class="nv">nonce</span><span class="o">=</span><span class="sb">`</span>date +%s<span class="sb">`</span>
<span class="nv">signature</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> -n <span class="s2">"</span><span class="nv">$nonce</span><span class="s2">"</span> | openssl dgst -sha256 -hex -hmac <span class="s2">"</span><span class="nv">$api_secret</span><span class="s2">"</span> | cut -d <span class="s1">' '</span> -f 2<span class="sb">`</span>

curl -X POST <span class="s2">"</span><span class="nv">$api_url</span><span class="s2">"</span>              <span class="se">\</span>
  -H <span class="s2">"APIKey:</span><span class="nv">$api_key</span><span class="s2">"</span>               <span class="se">\</span>
  -H <span class="s2">"Nonce:</span><span class="nv">$nonce</span><span class="s2">"</span>                  <span class="se">\</span>
  -H <span class="s2">"Signature:</span><span class="nv">$signature</span><span class="s2">"</span>          <span class="se">\</span>
  -H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
  -d <span class="s2">"</span><span class="nv">$message</span><span class="s2">"</span>
</code></pre>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description/Value</th>
</tr>
</thead><tbody>
<tr>
<td>MsgType</td>
<td>string</td>
<td>&ldquo;U2&rdquo;</td>
</tr>
<tr>
<td>BalanceReqID</td>
<td>number</td>
<td>An ID assigned by you. It can be any number. The response message associated with this request will contain the same ID</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>RESPONSE EXAMPLE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U3"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ClientID"</span><span class="p">:</span><span class="w"> </span><span class="mi">90800003</span><span class="p">,</span><span class="w">
    </span><span class="nt">"BalanceReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">5178228</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Available"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">177814907002760</span><span class="p">,</span><span class="w">
        </span><span class="nt">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1468038442214</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"5"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"BTC_locked"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">177911657052760</span><span class="p">,</span><span class="w">
        </span><span class="nt">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1468038442214</span><span class="p">,</span><span class="w">
        </span><span class="nt">"USD_locked"</span><span class="p">:</span><span class="w"> </span><span class="mi">96750050000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h3 id="response">Response</h3>

<p>Returns your balance for each broker.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description/Value</th>
</tr>
</thead><tbody>
<tr>
<td>MsgType</td>
<td>string</td>
<td>&ldquo;U3&rdquo; UserBalanceResponse message</td>
</tr>
<tr>
<td><a href="#brokers">&lt;BROKER_ID&gt;</a></td>
<td>object</td>
<td>The <a href="#brokers">Broker ID</a> containing your BTC and FIAT balance, e.g.: &ldquo;5&rdquo; stands for your balance with the <a href="#brokers">Broker ID</a> number 5</td>
</tr>
<tr>
<td>ClientID</td>
<td>number</td>
<td>Your account ID</td>
</tr>
<tr>
<td>BalanceReqID</td>
<td>number</td>
<td>This should match the BalanceReqID sent on the message &ldquo;U2&rdquo;</td>
</tr>
<tr>
<td>Available</td>
<td>object</td>
<td>Available balance only returned on JavaScript SDK</td>
</tr>
</tbody></table>

<p>Balance model example for BTC and USD:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BTC</td>
<td>number</td>
<td>Amount in satoshis of BTC you have available in your account</td>
</tr>
<tr>
<td>USD</td>
<td>number</td>
<td>Amount in USD (or your FIAT currency) you have available in your account</td>
</tr>
<tr>
<td>BTC_locked</td>
<td>number</td>
<td>Amount in satoshis of BTC you have locked (open orders, margin positions, etc)</td>
</tr>
<tr>
<td>USD_locked</td>
<td>number</td>
<td>Amount in USD (or your FIAT currency) you have locked (open orders, margin positions, etc)</td>
</tr>
</tbody></table>

<h2 id="my-orders">My Orders</h2>

<p>Request a list of your open orders.</p>

<blockquote>
<p><strong>MESSAGE EXAMPLE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U4"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"OrdersReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">930019</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Page"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"PageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight javascript"><code>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">myOrders</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">myOrders</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myOrders</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>
<pre class="highlight shell"><code><span class="nv">message</span><span class="o">=</span><span class="s1">'{ "MsgType": "U4", "OrdersReqID": 930019, "Page": 0, "PageSize": 1 }'</span>

<span class="nv">api_url</span><span class="o">=</span><span class="s1">'API_URL_REST_ENDPOINT'</span>
<span class="nv">api_key</span><span class="o">=</span><span class="s1">'YOUR_API_KEY_GENERATED_IN_API_MODULE'</span>
<span class="nv">api_secret</span><span class="o">=</span><span class="s1">'YOUR_SECRET_KEY_GENERATED_IN_API_MODULE'</span>

<span class="nv">nonce</span><span class="o">=</span><span class="sb">`</span>date +%s<span class="sb">`</span>
<span class="nv">signature</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> -n <span class="s2">"</span><span class="nv">$nonce</span><span class="s2">"</span> | openssl dgst -sha256 -hex -hmac <span class="s2">"</span><span class="nv">$api_secret</span><span class="s2">"</span> | cut -d <span class="s1">' '</span> -f 2<span class="sb">`</span>

curl -X POST <span class="s2">"</span><span class="nv">$api_url</span><span class="s2">"</span>              <span class="se">\</span>
  -H <span class="s2">"APIKey:</span><span class="nv">$api_key</span><span class="s2">"</span>               <span class="se">\</span>
  -H <span class="s2">"Nonce:</span><span class="nv">$nonce</span><span class="s2">"</span>                  <span class="se">\</span>
  -H <span class="s2">"Signature:</span><span class="nv">$signature</span><span class="s2">"</span>          <span class="se">\</span>
  -H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
  -d <span class="s2">"</span><span class="nv">$message</span><span class="s2">"</span>
</code></pre>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description/Value</th>
</tr>
</thead><tbody>
<tr>
<td>MsgType</td>
<td>string</td>
<td>&ldquo;U4&rdquo;</td>
</tr>
<tr>
<td>OrdersReqID</td>
<td>number</td>
<td>An ID assigned by you. It can be any number. The response message associated with this request will contain the same ID</td>
</tr>
<tr>
<td>Page</td>
<td>number</td>
<td><strong>Optional</strong>; defaults to 0</td>
</tr>
<tr>
<td>PageSize</td>
<td>number</td>
<td><strong>Optional</strong>; defaults to 20</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>RESPONSE EXAMPLE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"OrdListGrp"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"ClOrdID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8475400"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"OrderID"</span><span class="p">:</span><span class="w"> </span><span class="mi">1459028830968</span><span class="p">,</span><span class="w">
        </span><span class="nt">"CumQty"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"OrdStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"LeavesQty"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"CxlQty"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"AvgPx"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"OrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"OrderQty"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mi">50001000000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"OrderDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-07 04:35:30"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"TimeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nt">"PageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"OrdersReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">930019</span><span class="p">,</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Page"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h3 id="response">Response</h3>

<p>Returns an array of Orders Model Objects.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description/Value</th>
</tr>
</thead><tbody>
<tr>
<td>ClOrdID</td>
<td>string</td>
<td>Client order ID set by you</td>
</tr>
<tr>
<td>OrderID</td>
<td>number</td>
<td>Order ID set by blinktrade</td>
</tr>
<tr>
<td>CumQty</td>
<td>number</td>
<td>The executed quantity of this order</td>
</tr>
<tr>
<td>OrdStatus</td>
<td>string</td>
<td>&ldquo;0&rdquo; = New, &ldquo;1&rdquo; = Partially filled, &ldquo;2&rdquo; = Filled, &ldquo;4&rdquo; = Cancelled, &ldquo;8&rdquo; = Rejected, &ldquo;A&rdquo; = Pending New</td>
</tr>
<tr>
<td>LeavesQty</td>
<td>number</td>
<td>Quantity open for further execution</td>
</tr>
<tr>
<td>CxlQty</td>
<td>number</td>
<td>Total quantity canceled for this order</td>
</tr>
<tr>
<td>AvgPx</td>
<td>number</td>
<td>Calculated average price of all fills on this order</td>
</tr>
<tr>
<td>Symbol</td>
<td>string</td>
<td><a href="#symbols">&lt;SYMBOL&gt;</a></td>
</tr>
<tr>
<td>Side</td>
<td>string</td>
<td>&ldquo;1&rdquo; = Buy, &ldquo;2&rdquo; = Sell</td>
</tr>
<tr>
<td>OrdType</td>
<td>string</td>
<td>&ldquo;2&rdquo; = Limited</td>
</tr>
<tr>
<td>OrderQty</td>
<td>number</td>
<td>Quantity ordered in satoshis</td>
</tr>
<tr>
<td>Price</td>
<td>number</td>
<td>Price per unit in your local currency</td>
</tr>
<tr>
<td>OrderDate</td>
<td>string</td>
<td>Order date in UTC</td>
</tr>
<tr>
<td>Volume</td>
<td>number</td>
<td>Quantity x Price</td>
</tr>
<tr>
<td>TimeInForce</td>
<td>string</td>
<td>&ldquo;0&rdquo; = Day, &ldquo;1&rdquo; = Good Till Cancel, &ldquo;4&rdquo; = Fill or Kill</td>
</tr>
</tbody></table>

<h2 id="send-order">Send Order</h2>

<aside class="notice">
<b><a href="http://floating-point-gui.de/basic/">Floats are Evil!</a></b>
<p>
  Converting Floats to Integers can be dangerous. Different programming languages can get weird rounding errors and imprecisions, so all API returns prices and bitcoin values as Integers and in &ldquo;satoshis&rdquo; format. We also expect Integers as input, make sure that you&rsquo;re formatting the values properly to avoid precision issues.
</p>
</aside>

<blockquote>
<p><strong>MESSAGE EXAMPLE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"D"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ClOrdID"</span><span class="p">:</span><span class="w"> </span><span class="mi">8426208</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"OrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mi">55000000000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"OrderQty"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"BrokerID"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight javascript"><code>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">sendOrder</span><span class="p">({</span>
  <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"1"</span><span class="p">,</span> <span class="c1">// Buy</span>
  <span class="s2">"price"</span><span class="p">:</span> <span class="nb">parseInt</span><span class="p">((</span><span class="mi">550</span> <span class="o">*</span> <span class="mi">1</span><span class="nx">e8</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">0</span><span class="p">)),</span>
  <span class="s2">"amount"</span><span class="p">:</span> <span class="nb">parseInt</span><span class="p">((</span><span class="mf">0.05</span> <span class="o">*</span> <span class="mi">1</span><span class="nx">e8</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">0</span><span class="p">)),</span>
  <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSD"</span><span class="p">,</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">order</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">order</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>
<pre class="highlight shell"><code><span class="nv">message</span><span class="o">=</span><span class="s1">'{ "MsgType": "D", "ClOrdID": 8426208, "Symbol": "BTCUSD", "Side": "1", "OrdType": "2", "Price": 55000000000, "OrderQty": 5000000, "BrokerID": 5 }'</span>

<span class="nv">api_url</span><span class="o">=</span><span class="s1">'API_URL_REST_ENDPOINT'</span>
<span class="nv">api_key</span><span class="o">=</span><span class="s1">'YOUR_API_KEY_GENERATED_IN_API_MODULE'</span>
<span class="nv">api_secret</span><span class="o">=</span><span class="s1">'YOUR_SECRET_KEY_GENERATED_IN_API_MODULE'</span>

<span class="nv">nonce</span><span class="o">=</span><span class="sb">`</span>date +%s<span class="sb">`</span>
<span class="nv">signature</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> -n <span class="s2">"</span><span class="nv">$nonce</span><span class="s2">"</span> | openssl dgst -sha256 -hex -hmac <span class="s2">"</span><span class="nv">$api_secret</span><span class="s2">"</span> | cut -d <span class="s1">' '</span> -f 2<span class="sb">`</span>

curl -X POST <span class="s2">"</span><span class="nv">$api_url</span><span class="s2">"</span>              <span class="se">\</span>
  -H <span class="s2">"APIKey:</span><span class="nv">$api_key</span><span class="s2">"</span>               <span class="se">\</span>
  -H <span class="s2">"Nonce:</span><span class="nv">$nonce</span><span class="s2">"</span>                  <span class="se">\</span>
  -H <span class="s2">"Signature:</span><span class="nv">$signature</span><span class="s2">"</span>          <span class="se">\</span>
  -H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
  -d <span class="s2">"</span><span class="nv">$message</span><span class="s2">"</span>
</code></pre>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description/Value</th>
</tr>
</thead><tbody>
<tr>
<td>MsgType</td>
<td>string</td>
<td>&ldquo;D&rdquo;</td>
</tr>
<tr>
<td>ClOrdID</td>
<td>number</td>
<td>Unique identifier for Order as assigned by you</td>
</tr>
<tr>
<td>Symbol</td>
<td>string</td>
<td><a href="#symbols">&lt;SYMBOL&gt;</a></td>
</tr>
<tr>
<td>Side</td>
<td>string</td>
<td>&ldquo;1&rdquo; = Buy, &ldquo;2&rdquo; = Sell</td>
</tr>
<tr>
<td>OrdType</td>
<td>string</td>
<td>&ldquo;2&rdquo; = Limited</td>
</tr>
<tr>
<td>Price</td>
<td>number</td>
<td>Price in satoshis</td>
</tr>
<tr>
<td>OrderQty</td>
<td>number</td>
<td>Quantity in satoshis</td>
</tr>
<tr>
<td>BrokerID</td>
<td>number</td>
<td><a href="#brokers">&lt;BROKER_ID&gt;</a></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Returns an Execution Report Model Object, if you&rsquo;re using with <code class="prettyprint">REST Transport</code>,
it will response as an array together with the balance response.</p>

<blockquote>
<p><strong>RESPONSE EXAMPLE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"OrderID"</span><span class="p">:</span><span class="w"> </span><span class="mi">1459028830972</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ExecID"</span><span class="p">:</span><span class="w"> </span><span class="mi">741322</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ExecType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"OrdStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"CumQty"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"OrderQty"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"LastShares"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"LastPx"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mi">55000000000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"TimeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"LeavesQty"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ExecSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"OrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"CxlQty"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ClOrdID"</span><span class="p">:</span><span class="w"> </span><span class="mi">8426208</span><span class="p">,</span><span class="w">
  </span><span class="nt">"AvgPx"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h3 id="execution-report-response">Execution Report Response</h3>

<table><thead>
<tr>
<th>field</th>
<th>Type</th>
<th>Description/Value</th>
</tr>
</thead><tbody>
<tr>
<td>MsgType</td>
<td>string</td>
<td>&ldquo;8&rdquo;</td>
</tr>
<tr>
<td>OrderID</td>
<td>number</td>
<td>Unique identifier for Order as assigned by broker</td>
</tr>
<tr>
<td>ExecID</td>
<td>number</td>
<td>Unique identifier of execution message as assigned by broker</td>
</tr>
<tr>
<td>ExecType</td>
<td>string</td>
<td>&ldquo;0&rdquo; = New, &ldquo;1&rdquo; = Partially fill, &ldquo;2&rdquo; = Fill, &ldquo;4&rdquo; = Cancelled, &ldquo;8&rdquo; = Rejected, &ldquo;A&rdquo; = Pending New</td>
</tr>
<tr>
<td>OrdStatus</td>
<td>string</td>
<td>&ldquo;0&rdquo; = New, &ldquo;1&rdquo; = Partially fill, &ldquo;2 &rdquo;= Fill, &ldquo;4&rdquo; = Cancelled, &ldquo;8&rdquo; = Rejected, &ldquo;A&rdquo; = Pending New</td>
</tr>
<tr>
<td>LeavesQty</td>
<td>number</td>
<td>Quantity open for further execution</td>
</tr>
<tr>
<td>Symbol</td>
<td>string</td>
<td>Currency pair being used</td>
</tr>
<tr>
<td>OrderQty</td>
<td>number</td>
<td>Quantity ordered in satoshis</td>
</tr>
<tr>
<td>LastShares</td>
<td>number</td>
<td>Quantity of shares bought/sold on this fill</td>
</tr>
<tr>
<td>LastPx</td>
<td>number</td>
<td>Price of the last fill</td>
</tr>
<tr>
<td>CxlQty</td>
<td>number</td>
<td>Total quantity canceled for this order</td>
</tr>
<tr>
<td>TimeInForce</td>
<td>string</td>
<td>&ldquo;0&rdquo; = Day, &ldquo;1&rdquo; = Good Till Cancel, &ldquo;4&rdquo; = Fill or Kill</td>
</tr>
<tr>
<td>CumQty</td>
<td>number</td>
<td>Total quantity filled</td>
</tr>
<tr>
<td>ClOrdID</td>
<td>string</td>
<td>Unique identifier for Order as assigned by you</td>
</tr>
<tr>
<td>OrdType</td>
<td>string</td>
<td>&ldquo;2&rdquo; = Limited</td>
</tr>
<tr>
<td>Side</td>
<td>string</td>
<td>&ldquo;1&rdquo; = Buy, &ldquo;2&rdquo; = Sell</td>
</tr>
<tr>
<td>Price</td>
<td>number</td>
<td>Price per unit of quantity in satoshis</td>
</tr>
<tr>
<td>ExecSide</td>
<td>string</td>
<td>Side of this fill</td>
</tr>
<tr>
<td>AvgPx</td>
<td>number</td>
<td>Calculated average price of all fills on this order</td>
</tr>
<tr>
<td>OrdRejReason</td>
<td>string</td>
<td>Rejected reason code if order was rejected based on <a href="http://www.onixs.biz/fix-dictionary/4.3/tagNum_103.html">fix protocol</a></td>
</tr>
</tbody></table>

<aside class="notice">
  <b>NOTE</b>
  <p>
    Rejected orders with reason &lsquo;3&rsquo; (Order exceeds limit), means that you don&rsquo;t have enough balance or may have open orders,
    orders with amount below 0.0001 BTC exceeds limits as well, therefore, will also be rejected.
  </p>
</aside>

<h2 id="cancel-order">Cancel Order</h2>

<blockquote>
<p><strong>MESSAGE EXAMPLE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"F"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"OrderID"</span><span class="p">:</span><span class="w"> </span><span class="mi">1459028830899</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ClOrdID"</span><span class="p">:</span><span class="w"> </span><span class="mi">8426208</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight javascript"><code>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">cancelOrder</span><span class="p">({</span> <span class="na">orderID</span><span class="p">:</span> <span class="nx">order</span><span class="p">.</span><span class="nx">OrderID</span><span class="p">,</span> <span class="na">clientId</span><span class="p">:</span> <span class="nx">order</span><span class="p">.</span><span class="nx">ClOrdID</span> <span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">order</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Order Cancelled"</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>
<pre class="highlight shell"><code><span class="nv">message</span><span class="o">=</span><span class="s1">'{ "MsgType": "F", "OrderID": 1459028830899, "ClOrdID": 8426208 }'</span>

<span class="nv">api_url</span><span class="o">=</span><span class="s1">'API_URL_REST_ENDPOINT'</span>
<span class="nv">api_key</span><span class="o">=</span><span class="s1">'YOUR_API_KEY_GENERATED_IN_API_MODULE'</span>
<span class="nv">api_secret</span><span class="o">=</span><span class="s1">'YOUR_SECRET_KEY_GENERATED_IN_API_MODULE'</span>

<span class="nv">nonce</span><span class="o">=</span><span class="sb">`</span>date +%s<span class="sb">`</span>
<span class="nv">signature</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> -n <span class="s2">"</span><span class="nv">$nonce</span><span class="s2">"</span> | openssl dgst -sha256 -hex -hmac <span class="s2">"</span><span class="nv">$api_secret</span><span class="s2">"</span> | cut -d <span class="s1">' '</span> -f 2<span class="sb">`</span>

curl -X POST <span class="s2">"</span><span class="nv">$api_url</span><span class="s2">"</span>              <span class="se">\</span>
  -H <span class="s2">"APIKey:</span><span class="nv">$api_key</span><span class="s2">"</span>               <span class="se">\</span>
  -H <span class="s2">"Nonce:</span><span class="nv">$nonce</span><span class="s2">"</span>                  <span class="se">\</span>
  -H <span class="s2">"Signature:</span><span class="nv">$signature</span><span class="s2">"</span>          <span class="se">\</span>
  -H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
  -d <span class="s2">"</span><span class="nv">$message</span><span class="s2">"</span>
</code></pre>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description/Value</th>
</tr>
</thead><tbody>
<tr>
<td>MsgType</td>
<td>string</td>
<td>&ldquo;F&rdquo; Order Cancel Request message. Check for a full doc here: <a href="http://www.onixs.biz/fix-dictionary/4.4/msgType_F_70.html">http://www.onixs.biz/fix-dictionary/4.4/msgType_F_70.html</a>.</td>
</tr>
<tr>
<td>ClOrdID</td>
<td>number</td>
<td>ID for an Order as assigned by you.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>The response will be the same as the <code class="prettyprint">sendOrder</code> with <code class="prettyprint">ExecType</code>: &ldquo;4&rdquo;</p>

<h2 id="deposits">Deposits</h2>

<h3 id="request-deposit-list">Request Deposit List</h3>

<blockquote>
<p><strong>MESSAGE EXAMPLE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U30"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DepositListReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Page"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"PageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"StatusList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w"> </span><span class="s2">"8"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<pre class="highlight javascript"><code>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">requestDepositList</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">deposits</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">deposits</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>
<pre class="highlight shell"><code><span class="nv">message</span><span class="o">=</span><span class="s1">'{ "MsgType": "U30", "DepositListReqID": 7739992, "Page": 0, "PageSize": 1 }'</span>

<span class="nv">api_url</span><span class="o">=</span><span class="s1">'API_URL_REST_ENDPOINT'</span>
<span class="nv">api_key</span><span class="o">=</span><span class="s1">'YOUR_API_KEY_GENERATED_IN_API_MODULE'</span>
<span class="nv">api_secret</span><span class="o">=</span><span class="s1">'YOUR_SECRET_KEY_GENERATED_IN_API_MODULE'</span>

<span class="nv">nonce</span><span class="o">=</span><span class="sb">`</span>date +%s<span class="sb">`</span>
<span class="nv">signature</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> -n <span class="s2">"</span><span class="nv">$nonce</span><span class="s2">"</span> | openssl dgst -sha256 -hex -hmac <span class="s2">"</span><span class="nv">$api_secret</span><span class="s2">"</span> | cut -d <span class="s1">' '</span> -f 2<span class="sb">`</span>

curl -X POST <span class="s2">"</span><span class="nv">$api_url</span><span class="s2">"</span>              <span class="se">\</span>
  -H <span class="s2">"APIKey:</span><span class="nv">$api_key</span><span class="s2">"</span>               <span class="se">\</span>
  -H <span class="s2">"Nonce:</span><span class="nv">$nonce</span><span class="s2">"</span>                  <span class="se">\</span>
  -H <span class="s2">"Signature:</span><span class="nv">$signature</span><span class="s2">"</span>          <span class="se">\</span>
  -H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
  -d <span class="s2">"</span><span class="nv">$message</span><span class="s2">"</span>
</code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description/Value</th>
</tr>
</thead><tbody>
<tr>
<td>MsgType</td>
<td>string</td>
<td>&ldquo;U30&rdquo;</td>
</tr>
<tr>
<td>DepositListReqID</td>
<td>number</td>
<td>Request ID</td>
</tr>
<tr>
<td>Page</td>
<td>number</td>
<td><strong>Optional</strong>; defaults to 0.</td>
</tr>
<tr>
<td>PageSize</td>
<td>number</td>
<td><strong>Optional</strong>; defaults to 20.</td>
</tr>
<tr>
<td>StatusList</td>
<td>array(string)</td>
<td>&ldquo;0&rdquo; = Unconfirmed, &ldquo;1&rdquo; = Pending, &ldquo;2&rdquo; = In Progress, &ldquo;4&rdquo; = Completed, &ldquo;8&rdquo; = Cancelled</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>EXAMPLE RESPONSE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nt">"PageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DepositListReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">7739992</span><span class="p">,</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U31"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DepositListGrp"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"DepositID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8312c0f951ef44a393050dc399fb8698"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"DepositMethodID"</span><span class="p">:</span><span class="w"> </span><span class="mi">502</span><span class="p">,</span><span class="w">
        </span><span class="nt">"DepositMethodName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wire_transfer_usa"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DTP"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Value"</span><span class="p">:</span><span class="w"> </span><span class="mi">20000000000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"PaidValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Data"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"Created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-07 14:33:22"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ControlNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">502000174</span><span class="p">,</span><span class="w">
        </span><span class="nt">"PercentFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"FixedFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ReasonID"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rodrigo"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"UserID"</span><span class="p">:</span><span class="w"> </span><span class="mi">90800003</span><span class="p">,</span><span class="w">
        </span><span class="nt">"BrokerID"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ClOrdID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6351214"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"CreditProvided"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UNCONFIRMED"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nt">"Page"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">


</span></code></pre>

<h3 id="response">Response</h3>

<p>Returns an array of Deposits Model Object.</p>

<h3 id="request-deposit">Request Deposit</h3>

<blockquote>
<p><strong>MESSAGE EXAMPLE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U18"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"DepositReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">3115044</span><span class="p">,</span><span class="w">
  </span><span class="nt">"DepositMethodID"</span><span class="p">:</span><span class="w"> </span><span class="mi">403</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Value"</span><span class="p">:</span><span class="w"> </span><span class="mi">150000000000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"BrokerID"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight javascript"><code>

<span class="c1">// Bitcoin Deposit</span>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">requestDeposit</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">deposit</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">deposit</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// Fiat Deposit</span>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">requestDeposit</span><span class="p">({</span>
  <span class="na">value</span><span class="p">:</span> <span class="nb">parseInt</span><span class="p">(</span><span class="mi">200</span> <span class="o">*</span> <span class="mi">1</span><span class="nx">e8</span><span class="p">),</span>
  <span class="na">currency</span><span class="p">:</span> <span class="s2">"BRL"</span><span class="p">,</span>
  <span class="na">depositMethodId</span><span class="p">:</span> <span class="mi">403</span><span class="p">,</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">deposit</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">deposit</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>
<pre class="highlight shell"><code><span class="nv">message</span><span class="o">=</span><span class="s1">'{ "MsgType": "U18", "DepositReqID": 3115044, "DepositMethodID": 403, "Value": 150000000000, "Currency": "BRL", "BrokerID": 5 }'</span>

<span class="nv">api_url</span><span class="o">=</span><span class="s1">'API_URL_REST_ENDPOINT'</span>
<span class="nv">api_key</span><span class="o">=</span><span class="s1">'YOUR_API_KEY_GENERATED_IN_API_MODULE'</span>
<span class="nv">api_secret</span><span class="o">=</span><span class="s1">'YOUR_SECRET_KEY_GENERATED_IN_API_MODULE'</span>

<span class="nv">nonce</span><span class="o">=</span><span class="sb">`</span>date +%s<span class="sb">`</span>
<span class="nv">signature</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> -n <span class="s2">"</span><span class="nv">$nonce</span><span class="s2">"</span> | openssl dgst -sha256 -hex -hmac <span class="s2">"</span><span class="nv">$api_secret</span><span class="s2">"</span> | cut -d <span class="s1">' '</span> -f 2<span class="sb">`</span>

curl -X POST <span class="s2">"</span><span class="nv">$api_url</span><span class="s2">"</span>              <span class="se">\</span>
  -H <span class="s2">"APIKey:</span><span class="nv">$api_key</span><span class="s2">"</span>               <span class="se">\</span>
  -H <span class="s2">"Nonce:</span><span class="nv">$nonce</span><span class="s2">"</span>                  <span class="se">\</span>
  -H <span class="s2">"Signature:</span><span class="nv">$signature</span><span class="s2">"</span>          <span class="se">\</span>
  -H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
  -d <span class="s2">"</span><span class="nv">$message</span><span class="s2">"</span>
</code></pre>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description/Value</th>
</tr>
</thead><tbody>
<tr>
<td>MsgType</td>
<td>string</td>
<td>&ldquo;U18&rdquo;</td>
</tr>
<tr>
<td>DepositReqID</td>
<td>number</td>
<td>Deposit Request ID</td>
</tr>
<tr>
<td>DepositMethodID</td>
<td>number</td>
<td>Deposit Method ID - Check with your exchange</td>
</tr>
<tr>
<td>Value</td>
<td>number</td>
<td>Amount in satoshis</td>
</tr>
<tr>
<td>Currency</td>
<td>string</td>
<td><a href="#currencies">&lt;CURRENCY&gt;</a></td>
</tr>
<tr>
<td>BrokerID</td>
<td>number</td>
<td><a href="#brokers">&lt;BROKER_ID&gt;</a></td>
</tr>
</tbody></table>

<h4 id="events">Events</h4>

<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>DEPOSIT_REFRESH</td>
<td>Callback when deposit refresh</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>EXAMPLE RESPONSE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nt">"DepositMethodName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deposit_btc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"UserID"</span><span class="p">:</span><span class="w"> </span><span class="mi">90800003</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ControlNumber"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UNCONFIRMED"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CRY"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"PercentFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rodrigo"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"CreditProvided"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DepositReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">3115044</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DepositID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"937a0c5e2133400280a356e5902eb6bd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"AccountID"</span><span class="p">:</span><span class="w"> </span><span class="mi">90800003</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"InputAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mvehwFpiMjhGL5wVSoX3QBSQmeVRdGFTSC"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"n19ZAH1WGoUkQhubQw71fH11BenifxpBxf"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"ClOrdID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3115044"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-07 14:33:22"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DepositMethodID"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"BrokerID"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"PaidValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ReasonID"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U19"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"FixedFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h3 id="response">Response</h3>

<p>Returns a Deposit Model Object.</p>

<aside class="notice">
  <b>NOTE</b>
  <p>The `Data.InputAddress` is the address that you have to deposit, <b>DO NOT DEPOSIT</b> on `Data.Destination` address.</p>
</aside>

<h2 id="withdrawals">Withdrawals</h2>

<h3 id="request-withdrawal-list">Request Withdrawal List</h3>

<blockquote>
<p><strong>MESSAGE EXAMPLE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U26"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"WithdrawListReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Page"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"PageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"StatusList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight javascript"><code>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">requestWithdrawList</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">withdraws</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">withdraws</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>
<pre class="highlight shell"><code><span class="nv">message</span><span class="o">=</span><span class="s1">'{ "MsgType": "U26", "WithdrawListReqID": 6695476, "Page": 0, "PageSize": 1 }'</span>

<span class="nv">api_url</span><span class="o">=</span><span class="s1">'API_URL_REST_ENDPOINT'</span>
<span class="nv">api_key</span><span class="o">=</span><span class="s1">'YOUR_API_KEY_GENERATED_IN_API_MODULE'</span>
<span class="nv">api_secret</span><span class="o">=</span><span class="s1">'YOUR_SECRET_KEY_GENERATED_IN_API_MODULE'</span>

<span class="nv">nonce</span><span class="o">=</span><span class="sb">`</span>date +%s<span class="sb">`</span>
<span class="nv">signature</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> -n <span class="s2">"</span><span class="nv">$nonce</span><span class="s2">"</span> | openssl dgst -sha256 -hex -hmac <span class="s2">"</span><span class="nv">$api_secret</span><span class="s2">"</span> | cut -d <span class="s1">' '</span> -f 2<span class="sb">`</span>

curl -X POST <span class="s2">"</span><span class="nv">$api_url</span><span class="s2">"</span>              <span class="se">\</span>
  -H <span class="s2">"APIKey:</span><span class="nv">$api_key</span><span class="s2">"</span>               <span class="se">\</span>
  -H <span class="s2">"Nonce:</span><span class="nv">$nonce</span><span class="s2">"</span>                  <span class="se">\</span>
  -H <span class="s2">"Signature:</span><span class="nv">$signature</span><span class="s2">"</span>          <span class="se">\</span>
  -H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
  -d <span class="s2">"</span><span class="nv">$message</span><span class="s2">"</span>
</code></pre>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description/Value</th>
</tr>
</thead><tbody>
<tr>
<td>MsgType</td>
<td>string</td>
<td>&ldquo;U26&rdquo;</td>
</tr>
<tr>
<td>WithdrawListReqID</td>
<td>number</td>
<td>An ID chosen by you</td>
</tr>
<tr>
<td>Page</td>
<td>number</td>
<td><strong>Optional</strong>; defaults to 0</td>
</tr>
<tr>
<td>PageSize</td>
<td>number</td>
<td><strong>Optional</strong>; defaults to 20</td>
</tr>
<tr>
<td>StatusList</td>
<td>array(string)</td>
<td>&ldquo;0&rdquo; = Unconfirmed, &ldquo;1&rdquo; = Pending, &ldquo;2&rdquo; = In Progress, &ldquo;4&rdquo; = Completed, &ldquo;8&rdquo; = Cancelled</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>RESPONSE EXAMPLE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nt">"WithdrawListReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">6695476</span><span class="p">,</span><span class="w">
    </span><span class="nt">"PageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WithdrawListGrp"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"WithdrawID"</span><span class="p">:</span><span class="w"> </span><span class="mi">365</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitcoin"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2Mx3TZycg4XL5sQFfERBgNmg9Ma7uxowK9y"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Instant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NO"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="s2">" 0.00010000"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"Created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-03 01:15:45"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ReasonID"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"PercentFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"FixedFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"PaidAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">110000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"UserID"</span><span class="p">:</span><span class="w"> </span><span class="mi">90800003</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rodrigo"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"BrokerID"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ClOrdID"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U27"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Page"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h3 id="response">Response</h3>

<p>Returns an array of Withdrawals Model Objects.</p>

<h3 id="request-withdrawal">Request Withdrawal</h3>

<p>To request withdrawals, you need to pass a &ldquo;data&rdquo; information, which represents the information to your withdrawal. It&rsquo;s related to bank accounts, numbers, or a bitcoin address, this information is dynamically and is different for each broker.</p>

<blockquote>
<p><strong>MESSAGE EXAMPLE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U6"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WithdrawReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">382616</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bradesco"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500000000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"AccountBranch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"AccountNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4444-5"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"AccountType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"corrente"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"CPF_CNPJ"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000000"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight javascript"><code>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">requestWithdraw</span><span class="p">({</span>
  <span class="s2">"amount"</span><span class="p">:</span> <span class="nb">parseInt</span><span class="p">(</span><span class="mi">400</span> <span class="o">*</span> <span class="mi">1</span><span class="nx">e8</span><span class="p">),</span>
  <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"BRL"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"bradesco"</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"AccountBranch"</span><span class="p">:</span> <span class="s2">"111"</span><span class="p">,</span>
    <span class="s2">"AccountNumber"</span><span class="p">:</span> <span class="s2">"4444-5"</span><span class="p">,</span>
    <span class="s2">"AccountType"</span><span class="p">:</span> <span class="s2">"corrente"</span><span class="p">,</span>
    <span class="s2">"CPF_CNPJ"</span><span class="p">:</span> <span class="s2">"00000000000"</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">withdraw</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">withdraw</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>
<pre class="highlight shell"><code>
<span class="nv">api_key</span><span class="o">=</span>YOUR_API_KEY_GENERATED_IN_API_MODULE
<span class="nv">api_secret</span><span class="o">=</span>YOUR_SECRET_KEY_GENERATED_IN_API_MODULE

<span class="nv">nonce</span><span class="o">=</span><span class="sb">`</span>date +%s<span class="sb">`</span>
<span class="nv">signature</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> -n <span class="nv">$nonce</span> | openssl dgst -sha256 -hex -hmac <span class="nv">$api_secret</span><span class="sb">`</span>

curl -XPOST https://api.testnet.blinktrade.com/tapi/v1/message <span class="se">\</span>
    -H <span class="s2">"Nonce:</span><span class="nv">$nonce</span><span class="s2">"</span> <span class="se">\</span>
    -H <span class="s2">"APIKey:</span><span class="nv">$api_key</span><span class="s2">"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
    -H <span class="s2">"Signature:</span><span class="nv">$signature</span><span class="s2">"</span> <span class="se">\</span>
    -d <span class="s1">'{"MsgType":"U6","DepositReqID":1,"WithdrawReqID":617625,"Method":"PayPal","Amount":3000000,"Currency":"USD","BrokerID":5,"Data":{"Email":"user@blinktrade.com"}}'</span>

</code></pre>

<h3 id="paramenters">Paramenters</h3>

<table><thead>
<tr>
<th>Params</th>
<th>Type</th>
<th>Description/Value</th>
</tr>
</thead><tbody>
<tr>
<td>MsgType</td>
<td>string</td>
<td>&ldquo;U6&rdquo;</td>
</tr>
<tr>
<td>WithdrawReqID</td>
<td>number</td>
<td>Request ID</td>
</tr>
<tr>
<td>Method</td>
<td>string</td>
<td>bitcoin for BTC. Check with the exchange all available withdrawal methods</td>
</tr>
<tr>
<td>Amount</td>
<td>number</td>
<td>Amount in satoshis</td>
</tr>
<tr>
<td>Currency</td>
<td>string</td>
<td>Currency code</td>
</tr>
<tr>
<td>Data</td>
<td>object</td>
<td>Data object containing the withdraws required fields</td>
</tr>
</tbody></table>

<p><strong>FOXBIT</strong></p>

<table><thead>
<tr>
<th>Methods</th>
<th>Required Data fields</th>
</tr>
</thead><tbody>
<tr>
<td>bradesco</td>
<td>AccountBranch, AccountNumber, AccountType, CPF_CNPJ</td>
</tr>
<tr>
<td>bb</td>
<td>AccountBranch, AccountNumber, AccountType, CPF_CNPJ</td>
</tr>
<tr>
<td>Caixa</td>
<td>AccountBranch, AccountNumber, AccountType, CPF_CNPJ</td>
</tr>
<tr>
<td>ted</td>
<td>BankName, BankNumber, AccountBranch, AccountNumber, AccountType, CPF_CNPJ</td>
</tr>
</tbody></table>

<p><strong>VBTC</strong></p>

<table><thead>
<tr>
<th>Methods</th>
<th>Required Data fields</th>
</tr>
</thead><tbody>
<tr>
<td>banktransfer</td>
<td>BankName, AccountBranch, BankCity, AccountName, AccountNumber, BankSwift</td>
</tr>
<tr>
<td>VPBankinternaltransfer</td>
<td>VPbankbranch, BankCity, AccountName, AccountNumber, BankSwift</td>
</tr>
<tr>
<td>cashtoID</td>
<td>BankName, BankBranch, BankCity, Clientname, ClientIDNr, Issue Date ID, Place of Issue, Phone Number of Recipient</td>
</tr>
</tbody></table>

<h3 id="events">Events</h3>

<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>WITHDRAW_REFRESH</td>
<td>Callback when withdraw refresh</td>
</tr>
</tbody></table>

<h3 id="confirm-withdraws">Confirm Withdraws</h3>

<p>After request a withdraw, you might get a error asking for two factor authentication,
you should call <code class="prettyprint">confirmWithdraw</code> passing the <code class="prettyprint">confirmationToken</code> that was sent to your email,
or <code class="prettyprint">secondFactor</code> if needed.</p>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U24"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WithdrawID"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WithdrawReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ConfirmationToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOKEN"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"SecondFactor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOKEN"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WithdrawID"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<pre class="highlight javascript"><code>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">confirmWithdraw</span><span class="p">({</span>
  <span class="na">withdrawId</span><span class="p">:</span> <span class="mi">523</span><span class="p">,</span>
  <span class="na">confirmationToken</span><span class="p">:</span> <span class="s2">"TOKEN"</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">withdraw</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">withdraw</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<blockquote>
<p><strong>RESPONSE EXAMPLE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nt">"Username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rodrigo"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"SecondFactorType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-07 14:52:23"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"PaidAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">20000000000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"UserID"</span><span class="p">:</span><span class="w"> </span><span class="mi">90800003</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">20000000000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ReasonID"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"BrokerID"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ClOrdID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3184990"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WithdrawID"</span><span class="p">:</span><span class="w"> </span><span class="mi">545</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WithdrawReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">3184990</span><span class="p">,</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U7"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"AccountBranch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"AccountNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4444-5"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"AccountType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"corrente"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"CPF_CNPJ"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000000"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PayPal"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"FixedFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"PercentFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h3 id="response">Response</h3>

<p>Returns a Balance and Withdraw Model Object.</p>

<h3 id="cancel-withdraw">Cancel Withdraw</h3>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U70"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WithdrawCancelReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WithdrawID"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="err">;</span><span class="w">

</span></code></pre>
<pre class="highlight javascript"><code>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">cancelWithdraw</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

</code></pre>

<h2 id="ledger">Ledger</h2>

<blockquote>
<p><strong>MESSAGE EXAMPLE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U34"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"LedgerListReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Page"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"PageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"BrokerID"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight javascript"><code>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">requestLedger</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">ledger</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ledger</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<blockquote>
<p><strong>RESPONSE EXAMPLE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nt">"PageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="nt">"LedgerListGrp"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"LedgerID"</span><span class="p">:</span><span class="w"> </span><span class="mi">136514</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"AccountID"</span><span class="p">:</span><span class="w"> </span><span class="mi">90800127</span><span class="p">,</span><span class="w">
        </span><span class="nt">"BrokerID"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"PayeeID"</span><span class="p">:</span><span class="w"> </span><span class="mi">90000001</span><span class="p">,</span><span class="w">
        </span><span class="nt">"PayeeBrokerID"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">3932168134</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"732"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-02 00:08:40"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WFR"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nt">"Page"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U35"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"LedgerListReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">5219413</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h3 id="paramenters">Paramenters</h3>

<table><thead>
<tr>
<th>Params</th>
<th>Type</th>
<th>Description/Value</th>
</tr>
</thead><tbody>
<tr>
<td>MsgType</td>
<td>string</td>
<td>&ldquo;U34&rdquo;</td>
</tr>
<tr>
<td>LedgerListReqID</td>
<td>number</td>
<td>Request ID</td>
</tr>
<tr>
<td>Page</td>
<td>number</td>
<td><strong>Optional</strong>; defaults to 0</td>
</tr>
<tr>
<td>PageSize</td>
<td>number</td>
<td><strong>Optional</strong>; defaults to 20</td>
</tr>
<tr>
<td>BrokerID</td>
<td>number</td>
<td><strong>Optional</strong>; <a href="#brokers">&lt;BROKER_ID&gt;</a></td>
</tr>
<tr>
<td>Currency</td>
<td>string</td>
<td><strong>Optional</strong>; Currency code. (.e.g: BTC)</td>
</tr>
<tr>
<td>ClientID</td>
<td>number</td>
<td><strong>Optional</strong>; UserID used by brokers</td>
</tr>
</tbody></table>

          <h1 id="websocket-api">WebSocket API</h1>

<p>With the WebSocket API, you have full access to the exchange, you can also check our JavaScript WebSocket implementation <a href="https://github.com/blinktrade/frontend/blob/master/jsdev/bitex/api/bitex.js#L760-L1784">here</a>.</p>

<h2 id="connectivity">Connectivity</h2>

<p>The a rate limit is 16 messages per second.</p>
<pre class="highlight javascript"><code>
<span class="kd">var</span> <span class="nx">BlinkTradeWS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"blinktrade"</span><span class="p">).</span><span class="nx">BlinkTradeWS</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">blinktrade</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BlinkTradeWS</span><span class="p">({</span> <span class="na">prod</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>

</code></pre>

<h3 id="heartbeat">Heartbeat</h3>

<p>You must send this message every 30 seconds to keep your connection alive.</p>

<blockquote>
<p><strong>EXAMPLE MESSAGE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"TestReqID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1473241552307"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"SendTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1469031953</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight javascript"><code>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">connect</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">blinktrade</span><span class="p">.</span><span class="nx">heartbeat</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">heartbeat</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">heartbeat</span><span class="p">.</span><span class="nx">Latency</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<h3 id="paratemers">Paratemers</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>MsgType</td>
<td>string</td>
<td><a href="http://www.onixs.biz/fix-dictionary/4.4/msgType_1_1.html">1</a></td>
</tr>
<tr>
<td><a href="http://www.onixs.biz/fix-dictionary/4.4/tagNum_112.html">TestReqID</a></td>
<td>string</td>
<td>An ID assigned by you. It can be any number. The response message associated with this request will contain the same ID</td>
</tr>
<tr>
<td>SendTime</td>
<td>number</td>
<td>Unix Time Stamp</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>EXAMPLE RESPONSE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nt">"ServerTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1473241957</span><span class="p">,</span><span class="w">
    </span><span class="nt">"TestReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">1473241552307</span><span class="p">,</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"SendTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1473241552307</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Latency"</span><span class="p">:</span><span class="w"> </span><span class="mi">167</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>MsgType</td>
<td>string</td>
<td><a href="http://www.onixs.biz/fix-dictionary/4.4/msgType_0_0.html">0</a></td>
</tr>
<tr>
<td><a href="http://www.onixs.biz/fix-dictionary/4.4/tagNum_112.html">TestReqID</a></td>
<td>string</td>
<td>This should match the TestReqID sent on the message</td>
</tr>
<tr>
<td>SendTime</td>
<td>number</td>
<td>This should match your SendTime</td>
</tr>
<tr>
<td>ServerTimestamp</td>
<td>number</td>
<td>Server Unix Time Stamp</td>
</tr>
</tbody></table>

<h2 id="authentication">Authentication</h2>

<p>Most of WebSocket calls requires authentication, once you login with your username and password on the WebSocket connection, you will be able to access your account. You can also login with your API Key and API Password and you&rsquo;ll only be allowed to send messages that your API Key has permission to send.</p>

<h3 id="fingerprint">FingerPrint</h3>

<p>If you&rsquo;re not using the JavaScript SDK, You will need to pass a fingerprint from your browser, there&rsquo;s some finger prints implementations that you can use.</p>

<ul>
<li><a href="https://github.com/blinktrade/frontend/blob/master/jsdev/bitex/util/util.js#L96-L157">Our google closure implementation</a></li>
<li><a href="https://github.com/Valve/fingerprintjs2">fingerprintjs2</a></li>
</ul>

<h3 id="login">Login</h3>

<blockquote>
<p><strong>EXAMPLE MESSAGE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BE"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"UserReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">9696784</span><span class="p">,</span><span class="w">
    </span><span class="nt">"BrokerID"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TYD3ZilY0FDB1QdkD1iDdlqvcRdnV0sZILNh3D18ZKs"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ySIMrLdTqSDo3vL"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"UserReqTyp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"FingerPrint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b959a35c7f3f5e9315c99b5a25c2bbda"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight javascript"><code>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">connect</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">blinktrade</span><span class="p">.</span><span class="nx">login</span><span class="p">({</span> <span class="na">username</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="s2">""</span> <span class="p">});</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">logged</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">logged</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>MsgType</td>
<td>string</td>
<td><a href="http://www.onixs.biz/fix-dictionary/4.4/msgType_BE_6669.html">BE</a></td>
</tr>
<tr>
<td>UserReqID</td>
<td>number</td>
<td>Request Id</td>
</tr>
<tr>
<td>BrokerID</td>
<td>number</td>
<td><a href="#brokers">&lt;BROKER_ID&gt;</a></td>
</tr>
<tr>
<td>Username</td>
<td>string</td>
<td>The email address, username or API Key of the user</td>
</tr>
<tr>
<td>Password</td>
<td>string</td>
<td>The password of the user</td>
</tr>
<tr>
<td>UserReqTyp</td>
<td>string</td>
<td>&ldquo;1&rdquo;</td>
</tr>
<tr>
<td>FingerPrint</td>
<td>string</td>
<td>Browser <a href="#fingerprint">fingerprint</a></td>
</tr>
<tr>
<td>SecondFactor</td>
<td>number</td>
<td><strong>Optional</strong>; Second Factor Authentication code generated by authy</td>
</tr>
<tr>
<td>UserAgent</td>
<td>string</td>
<td><strong>Optional</strong>; Browser user agent navigator</td>
</tr>
<tr>
<td>UserAgentLanguage</td>
<td>string</td>
<td><strong>Optional</strong>; User agent language</td>
</tr>
<tr>
<td>UserAgentTimezoneOffset</td>
<td>number</td>
<td><strong>Optional</strong>; User agent timezone offset</td>
</tr>
<tr>
<td>UserAgentPlatform</td>
<td>string</td>
<td><strong>Optional</strong>; User agent platform</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Returns a Login Model Object together with Profile and Broker information.</p>

<blockquote>
<p><strong>EXAMPLE RESPONSE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"UserID"</span><span class="p">:</span><span class="w"> </span><span class="mi">90800003</span><span class="p">,</span><span class="w">
    </span><span class="nt">"TwoFactorEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"EmailLang"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pt_BR"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rodrigo"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"IsMSB"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WithdrawFixedFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Broker"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"Profile"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"HasLineOfCredit"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"UserStatus"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"IsBroker"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"TakerTransactionFeeSell"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ConfirmationOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"TakerTransactionFeeBuy"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"UserReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">9696784</span><span class="p">,</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BF"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"IsMarketMaker"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DepositPercentFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DepositFixedFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WithdrawPercentFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"TransactionFeeBuy"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"TransactionFeeSell"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"EmailTwoFactorEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"BrokerID"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"PermissionList"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"*"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>MsgType</td>
<td>string</td>
<td><a href="http://www.onixs.biz/fix-dictionary/4.4/msgType_BF_6670.html">BF</a></td>
</tr>
<tr>
<td>Broker</td>
<td>object</td>
<td>Broker model object, see <a href="#brokerlistgrp-model">broker response</a> for more informations</td>
</tr>
<tr>
<td>BrokerID</td>
<td>number</td>
<td><a href="#brokers">&lt;BROKER_ID&gt;</a></td>
</tr>
<tr>
<td>DepositFixedFee</td>
<td>number</td>
<td>Fixed deposit fee</td>
</tr>
<tr>
<td>DepositPercentFee</td>
<td>number</td>
<td>Deposit fixed fee</td>
</tr>
<tr>
<td>EmailLang</td>
<td>string</td>
<td>Email Language</td>
</tr>
<tr>
<td>HasLineOfCredit</td>
<td>boolean</td>
<td><code class="prettyprint">boolean</code> indicating whether user has line of credit</td>
</tr>
<tr>
<td>IsBroker</td>
<td>boolean</td>
<td><code class="prettyprint">boolean</code> whether user is a broker</td>
</tr>
<tr>
<td>IsMSB</td>
<td>boolean</td>
<td></td>
</tr>
<tr>
<td>Profile</td>
<td>object</td>
<td>Profile model object, see <a href="#">profile model</a> for more informations</td>
</tr>
<tr>
<td>TakerTransactionFeeBuy</td>
<td>number</td>
<td>Taker fee for buy orders</td>
</tr>
<tr>
<td>TakerTransactionFeeSell</td>
<td>number</td>
<td>Taker fee for sell orders</td>
</tr>
<tr>
<td>TransactionFeeBuy</td>
<td>number</td>
<td>Maker fee for buy orders</td>
</tr>
<tr>
<td>TransactionFeeSell</td>
<td>number</td>
<td>Maker fee for sell orders</td>
</tr>
<tr>
<td>TwoFactorEnabled</td>
<td>boolean</td>
<td><code class="prettyprint">boolean</code> indicating whether user has two factor enabled</td>
</tr>
<tr>
<td>UserID</td>
<td>number</td>
<td>Integer with the user ID</td>
</tr>
<tr>
<td>UserReqTyp</td>
<td>number</td>
<td>Returns only if it&rsquo;s equal to 3 when password has been changed</td>
</tr>
<tr>
<td>UserStatus</td>
<td>number</td>
<td>&ldquo;1&rdquo; = Logged In, &ldquo;2&rdquo; = Not Logged In, &ldquo;3&rdquo; = User Not Recognised</td>
</tr>
<tr>
<td>Username</td>
<td>string</td>
<td>String with the username of the user</td>
</tr>
<tr>
<td>WithdrawFixedFee</td>
<td>number</td>
<td>Fixed fee for withdrawals</td>
</tr>
<tr>
<td>WithdrawPercentFee</td>
<td>number</td>
<td>Percent fee for withdrawals</td>
</tr>
</tbody></table>

<h2 id="subscribe-to-orderbook">Subscribe to OrderBook</h2>

<p>You can subscribe to one or more Symbols and receive one or more Market Data Entries in realtime. Each Market Data Entry is composed by a bid, offer or a trade occurred.</p>

<blockquote>
<p><strong>EXAMPLE MESSAGE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"V"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"MDReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">9894272</span><span class="p">,</span><span class="w">
    </span><span class="nt">"SubscriptionRequestType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"MarketDepth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"MDUpdateType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"MDEntryTypes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2"</span><span class="p">],</span><span class="w">
    </span><span class="nt">"Instruments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"BTCBRL"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<pre class="highlight javascript"><code>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">connect</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">blinktrade</span><span class="p">.</span><span class="nx">subscribeOrderbook</span><span class="p">([</span><span class="s2">"BTCUSD"</span><span class="p">]);</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">orderbook</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">orderbook</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>MsgType</td>
<td>string</td>
<td>&ldquo;V&rdquo;</td>
</tr>
<tr>
<td>MDReqID</td>
<td>number</td>
<td>Request ID</td>
</tr>
<tr>
<td>SubscriptionRequestType</td>
<td>string</td>
<td>&ldquo;1&rdquo; = Subscribe, &ldquo;2&rdquo; = Unsubscribe</td>
</tr>
<tr>
<td>MarketDepth</td>
<td>string</td>
<td>&ldquo;0&rdquo; = Full Book, &ldquo;1&rdquo; = Top of Book</td>
</tr>
<tr>
<td><a href="http://www.onixs.biz/fix-dictionary/4.4/tagNum_269.html">MDEntryTypes</a></td>
<td>array(string)</td>
<td>&ldquo;0&rdquo; = Bid, &ldquo;1&rdquo; = Offer, &ldquo;2&rdquo; = Trade</td>
</tr>
<tr>
<td><a href="http://www.onixs.biz/fix-dictionary/4.4/tagNum_265.html">MDUpdateType</a></td>
<td>string</td>
<td>&ldquo;0&rdquo; = Full Refresh, &ldquo;1&rdquo; = Incremental RefreshRefresh</td>
</tr>
<tr>
<td>Instruments</td>
<td>array(string)</td>
<td>Array with the symbols that you want to subscribe e.g.: [&lsquo;BTCBRL&rsquo;]</td>
</tr>
</tbody></table>

<h3 id="response-full-book">Response Full Book</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>MsgType</td>
<td>string</td>
<td>&ldquo;W&rdquo;</td>
</tr>
<tr>
<td>MDReqID</td>
<td>number</td>
<td>Request ID</td>
</tr>
<tr>
<td>MarketDepth</td>
<td>string</td>
<td>&ldquo;0&rdquo; = Full Book, &ldquo;1&rdquo; = Top of Book</td>
</tr>
<tr>
<td>Symbol</td>
<td>string</td>
<td>Instrument symbol subscribed</td>
</tr>
<tr>
<td>MDFullGrp</td>
<td>object</td>
<td>Object containing all orders</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>EXAMPLE RESPONSE FULL ORDER BOOK</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"MDReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">9894272</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"W"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"MarketDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"MDFullGrp"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"BTCUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[[</span><span class="w"> </span><span class="mi">578</span><span class="p">,</span><span class="w"> </span><span class="mf">1.59231429</span><span class="p">,</span><span class="w"> </span><span class="mi">90800535</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mf">577.79</span><span class="p">,</span><span class="w"> </span><span class="mf">5.68</span><span class="p">,</span><span class="w"> </span><span class="mi">90800535</span><span class="w"> </span><span class="p">]],</span><span class="w">
      </span><span class="nt">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[[</span><span class="w"> </span><span class="mf">578.72</span><span class="p">,</span><span class="w"> </span><span class="mf">8.32039144</span><span class="p">,</span><span class="w"> </span><span class="mi">90800535</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mf">579.67</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">90800535</span><span class="w"> </span><span class="p">]]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>While you are subscribed to incremental updates, you will receive bids, asks and trades occurred in realtime.</p>
<pre class="highlight javascript"><code>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">subscribeOrderbook</span><span class="p">([</span><span class="s2">"BTCUSD"</span><span class="p">])</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"OB:NEW_ORDER"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">order</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"OB:UPDATE_ORDER"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">order</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"OB:DELETE_ORDER"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">order</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"OB:DELETE_ORDERS_THRU"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">order</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"OB:TRADE_NEW"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">order</span><span class="p">)</span> <span class="p">{</span>
<span class="p">});</span>

</code></pre>

<h3 id="incremental-refresh-response">Incremental Refresh Response</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>MsgType</td>
<td>string</td>
<td>&ldquo;X&rdquo;</td>
</tr>
<tr>
<td>MDReqID</td>
<td>number</td>
<td>Request ID</td>
</tr>
<tr>
<td>MDBkTyp</td>
<td>string</td>
<td>&ldquo;3&rdquo; = Order Depth</td>
</tr>
<tr>
<td>MDIncGrp</td>
<td>array</td>
<td>Array containing the new data entry</td>
</tr>
</tbody></table>

<h3 id="response-mdincgrp-entry">Response MDIncGrp Entry</h3>

<blockquote>
<p><strong>EXAMPLE RESPONSE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nt">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w">
    </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">550</span><span class="p">,</span><span class="w">
    </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.05</span><span class="p">,</span><span class="w">
    </span><span class="nt">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">90800003</span><span class="p">,</span><span class="w">
    </span><span class="nt">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1459028830971</span><span class="p">,</span><span class="w">
    </span><span class="nt">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wed Sep 07 2016 14:18:44 GMT-0300 (BRT)"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OB:NEW_ORDER"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>OrderID</td>
<td>number</td>
<td>Order ID</td>
</tr>
<tr>
<td>MDEntryPx</td>
<td>number</td>
<td>Order Price</td>
</tr>
<tr>
<td>MDUpdateAction</td>
<td>string</td>
<td>&ldquo;0&rdquo; = New, &ldquo;1&rdquo; = Update, &ldquo;2&rdquo; = Delete, &ldquo;3&rdquo; = Delete Thru</td>
</tr>
<tr>
<td>MDEntryTime</td>
<td>string</td>
<td>Time when order was created</td>
</tr>
<tr>
<td>Symbol</td>
<td>string</td>
<td>Order symbol that you have subscribed on market data e.g: &ldquo;BTCUSD&rdquo;</td>
</tr>
<tr>
<td>UserID</td>
<td>number</td>
<td>User ID</td>
</tr>
<tr>
<td>Broker</td>
<td>string</td>
<td>Broker name that order belongs to</td>
</tr>
<tr>
<td>MDEntryType</td>
<td>string</td>
<td>&ldquo;0&rdquo; = Bid, &ldquo;1&rdquo; = Offer, &ldquo;2&rdquo; = Trade</td>
</tr>
<tr>
<td>MDEntryPositionNo</td>
<td>number</td>
<td>Order position on the book</td>
</tr>
<tr>
<td>MDEntrySize</td>
<td>number</td>
<td>Order size amount</td>
</tr>
<tr>
<td>MDEntryID</td>
<td>number</td>
<td>Market data entry ID</td>
</tr>
<tr>
<td>MDEntryDate</td>
<td>string</td>
<td>Date when market data was received</td>
</tr>
</tbody></table>

<h2 id="subscribe-to-ticker">Subscribe To Ticker</h2>

<p>You can subscribe on one or more market symbols</p>

<blockquote>
<p><strong>EXAMPLE MESSAGE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"SecurityStatusReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nt">"SubscriptionRequestType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Instruments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"BTCBRL"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<pre class="highlight javascript"><code>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">subscribeTicker</span><span class="p">([</span><span class="s2">"BLINK:BTCUSD"</span><span class="p">]).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">ticker</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ticker</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>MsgType</td>
<td>string</td>
<td>&ldquo;e&rdquo;</td>
</tr>
<tr>
<td>SecurityStatusReqID</td>
<td>number</td>
<td>Request ID</td>
</tr>
<tr>
<td>SubscriptionRequestType</td>
<td>string</td>
<td>1 = Snapshot + Updates (Subscribe)</td>
</tr>
<tr>
<td>Instruments</td>
<td>array</td>
<td>Array containing the symbols that you want to subscribe</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>EXAMPLE RESPONSE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nt">"SellVolume"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.71399999</span><span class="p">,</span><span class="w">
    </span><span class="nt">"LowPx"</span><span class="p">:</span><span class="w"> </span><span class="mi">578</span><span class="p">,</span><span class="w">
    </span><span class="nt">"LastPx"</span><span class="p">:</span><span class="w"> </span><span class="mi">578</span><span class="p">,</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"BestAsk"</span><span class="p">:</span><span class="w"> </span><span class="mf">578.47</span><span class="p">,</span><span class="w">
    </span><span class="nt">"HighPx"</span><span class="p">:</span><span class="w"> </span><span class="mf">578.71</span><span class="p">,</span><span class="w">
    </span><span class="nt">"BuyVolume"</span><span class="p">:</span><span class="w"> </span><span class="mf">412.71463421</span><span class="p">,</span><span class="w">
    </span><span class="nt">"BestBid"</span><span class="p">:</span><span class="w"> </span><span class="mi">578</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"SecurityStatusReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">960751</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BLINK"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h3 id="unsubscribe-from-ticker">Unsubscribe from ticker</h3>

<p>To unsubscribe from ticker, you do the same as <code class="prettyprint">unSubscribeOrderbook</code>, but passing <code class="prettyprint">SecurityStatusReqID</code> to <code class="prettyprint">unSubscribeTicker()</code>.</p>

<blockquote>
<p><strong>EXAMPLE MESSAGE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"SecurityStatusReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">960751</span><span class="p">,</span><span class="w">
    </span><span class="nt">"SubscriptionRequestType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<pre class="highlight javascript"><code>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">subscribeTicker</span><span class="p">([</span><span class="s2">"BLINK:BTCUSD"</span><span class="p">]).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">ticker</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Note that there's no return when unsubscribe from ticker.</span>
  <span class="nx">blinktrade</span><span class="p">.</span><span class="nx">unSubscribeTicker</span><span class="p">(</span><span class="nx">ticker</span><span class="p">.</span><span class="nx">SecurityStatusReqID</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<h3 id="response">Response</h3>

<p>Returns the given SecurityStatusReqID.</p>

<h2 id="execution-report">Execution Report</h2>

<p>You can listen to execution reports to get when your order has been updated.</p>
<pre class="highlight javascript"><code>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">executionReport</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"EXECUTION_REPORT:NEW"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"EXECUTION_REPORT:PARTIAL"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"EXECUTION_REPORT:EXECUTION"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"EXECUTION_REPORT:CANCELED"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"EXECUTION_REPORT:REJECTED"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
<span class="p">});</span>


</code></pre>

<blockquote>
<p><strong>EXAMPLE RESPONSE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nt">"OrderID"</span><span class="p">:</span><span class="w"> </span><span class="mi">1459028830811</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ExecID"</span><span class="p">:</span><span class="w"> </span><span class="mi">740972</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ExecType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"OrdStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"CumQty"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"OrderQty"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"LastShares"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"LastPx"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mi">55000000000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"TimeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"LeavesQty"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ExecSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"OrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"CxlQty"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ClOrdID"</span><span class="p">:</span><span class="w"> </span><span class="mi">3251968</span><span class="p">,</span><span class="w">
    </span><span class="nt">"AvgPx"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>field</th>
<th>Type</th>
<th>Description/Value</th>
</tr>
</thead><tbody>
<tr>
<td>MsgType</td>
<td>string</td>
<td>&ldquo;8&rdquo;</td>
</tr>
<tr>
<td>OrderID</td>
<td>number</td>
<td>Unique identifier for Order as assigned by broker.</td>
</tr>
<tr>
<td>ExecID</td>
<td>number</td>
<td>Unique identifier of execution message as assigned by broker.</td>
</tr>
<tr>
<td>ExecType</td>
<td>string</td>
<td>&ldquo;0&rdquo; = New, &ldquo;1&rdquo; = Partially fill, &ldquo;2&rdquo; = Fill, &ldquo;4&rdquo; = Cancelled, &ldquo;8&rdquo; = Rejected, &ldquo;A&rdquo; = Pending New</td>
</tr>
<tr>
<td>OrdStatus</td>
<td>string</td>
<td>&ldquo;0&rdquo; = New, &ldquo;1&rdquo; = Partially fill, &ldquo;2 &rdquo;= Fill, &ldquo;4&rdquo; = Cancelled, &ldquo;8&rdquo; = Rejected, &ldquo;A&rdquo; = Pending New</td>
</tr>
<tr>
<td>LeavesQty</td>
<td>number</td>
<td>Quantity open for further execution.</td>
</tr>
<tr>
<td>Symbol</td>
<td>string</td>
<td>Currency pair being used.</td>
</tr>
<tr>
<td>OrderQty</td>
<td>number</td>
<td>Quantity ordered in satoshis.</td>
</tr>
<tr>
<td>LastShares</td>
<td>number</td>
<td>Quantity of shares bought/sold on this fill.</td>
</tr>
<tr>
<td>LastPx</td>
<td>number</td>
<td>Price of the last fill.</td>
</tr>
<tr>
<td>CxlQty</td>
<td>number</td>
<td>Total quantity canceled for this order.</td>
</tr>
<tr>
<td>TimeInForce</td>
<td>string</td>
<td>&ldquo;0&rdquo; = Day, &ldquo;1&rdquo; = Good Till Cancel, &ldquo;4&rdquo; = Fill or Kill</td>
</tr>
<tr>
<td>CumQty</td>
<td>number</td>
<td>Total quantity filled.</td>
</tr>
<tr>
<td>ClOrdID</td>
<td>string</td>
<td>Unique identifier for Order as assigned by you</td>
</tr>
<tr>
<td>OrdType</td>
<td>string</td>
<td>&ldquo;2&rdquo; = Limited</td>
</tr>
<tr>
<td>Side</td>
<td>string</td>
<td>&ldquo;1&rdquo; = Buy, &ldquo;2&rdquo; = Sell</td>
</tr>
<tr>
<td>Price</td>
<td>number</td>
<td>Price per unit of quantity in satoshis.</td>
</tr>
<tr>
<td>ExecSide</td>
<td>string</td>
<td>Side of this fill.</td>
</tr>
<tr>
<td>AvgPx</td>
<td>number</td>
<td>Calculated average price of all fills on this order.</td>
</tr>
</tbody></table>

<h3 id="events">Events</h3>

<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>EXECUTION_REPORT:NEW</td>
<td>Callback when you send a new order</td>
</tr>
<tr>
<td>EXECUTION_REPORT:PARTIAL</td>
<td>Callback when your order has been partialy executed</td>
</tr>
<tr>
<td>EXECUTION_REPORT:EXECUTION</td>
<td>Callback when an order has been sussefully executed</td>
</tr>
<tr>
<td>EXECUTION_REPORT:CANCELED</td>
<td>Callback when your order has been canceled</td>
</tr>
<tr>
<td>EXECUTION_REPORT:REJECTED</td>
<td>Callback when order has been rejected</td>
</tr>
</tbody></table>

<h2 id="deposit-withdraw-refresh">Deposit / Withdraw Refresh</h2>

<p>When requesting deposits and withdraws, you can listen <code class="prettyprint">DEPOSIT_REFRESH</code> and <code class="prettyprint">WITHDRAW_REFRESH</code> receive updates.</p>
<pre class="highlight javascript"><code>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">requestDeposit</span><span class="p">().</span><span class="nx">on</span><span class="p">(</span><span class="s1">'DEPOSIT_REFRESH'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">deposit</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">deposit</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">requestWithdraw</span><span class="p">().</span><span class="nx">on</span><span class="p">(</span><span class="s1">'WITHDRAW_REFRESH'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">withdraw</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">withdraw</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<aside class="notice">
  <b>NOTE</b>
  <p>
    That these events will only be called to the current deposit / withdraw created,
    if you want to listen to any deposit / withdraw updates, you should use onDepositRefresh(callback) and onWithdrawRefresh(callback) instead.
  </p>
</aside>
<pre class="highlight javascript"><code>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">onDepositRefresh</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">deposit</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">deposit</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">onWithdrawRefresh</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">withdraw</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">withdraw</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<h3 id="reponse">Reponse</h3>

<p>Returns a deposit / withdraw model</p>

<h2 id="trade-history">Trade History</h2>

<p>A list of the last trades executed on an exchange since a chosen date.</p>

<p><strong>NOTE</strong> if you want to listen the last trades in real time, you should subscribe to market data instead.</p>
<pre class="highlight javascript"><code>
<span class="nx">blinktrade</span><span class="p">.</span><span class="nx">tradeHistory</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">trades</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">trades</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>MsgType</td>
<td>string</td>
<td>&ldquo;U32&rdquo;</td>
</tr>
<tr>
<td>TradeHistoryReqID</td>
<td>number</td>
<td>Request ID</td>
</tr>
<tr>
<td>Since</td>
<td>number</td>
<td><strong>Optional</strong> Since</td>
</tr>
<tr>
<td>Filter</td>
<td>number</td>
<td><strong>Optional</strong> Filter</td>
</tr>
<tr>
<td>Page</td>
<td>number</td>
<td><strong>Optional</strong> defaults to 0.</td>
</tr>
<tr>
<td>PageSize</td>
<td>number</td>
<td><strong>Optional</strong> defaults to 80.</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>EXAMPLE RESPONSE</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nt">"TradeHistoryReqID"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"PageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
    </span><span class="nt">"TradeHistoryGrp"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"BTCBRL"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nt">"TradeID"</span><span class="p">:</span><span class="w"> </span><span class="mi">486649</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCBRL"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mi">202152000000</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Size"</span><span class="p">:</span><span class="w"> </span><span class="mi">76389217</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Buyer"</span><span class="p">:</span><span class="w"> </span><span class="mi">90869802</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Seller"</span><span class="p">:</span><span class="w"> </span><span class="mi">90863020</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-01 20:51:40"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"MsgType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U33"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Page"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">JavaScript</a>
                <a href="#" data-language-name="shell">Shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
